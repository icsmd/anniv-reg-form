"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[56],{68:(t,e,a)=>{a.d(e,{Z:()=>l});var n=a(3645),i=a.n(n)()((function(t){return t[1]}));i.push([t.id,".error_msg[data-v-bc07aee0],.error_msg_edit[data-v-bc07aee0]{color:red}",""]);const l=i},5056:(t,e,a)=>{a.r(e),a.d(e,{default:()=>F});var n=a(821),i=function(t){return(0,n.dD)("data-v-bc07aee0"),t=t(),(0,n.Cn)(),t},l={id:"content_wrapper"},s=i((function(){return(0,n._)("header",{id:"topbar",class:"alt"},null,-1)})),r={class:"panel"},c=i((function(){return(0,n._)("div",{class:"panel-heading"},[(0,n._)("span",{class:"panel-title"},"Manage Registrants")],-1)})),d={class:"panel-body"},o=(0,n.uE)('<div class="panel panel-colorbox-open panel-system" id="spy2" data-v-bc07aee0><div class="panel-heading" data-v-bc07aee0><div class="panel-title hidden-xs" data-v-bc07aee0><span class="fa fa-cogs" data-v-bc07aee0></span>Actions Available </div></div><div class="panel-body pn" data-v-bc07aee0><div class="admin-form mw1000 left-block" style="margin-top:10px;" data-v-bc07aee0><div class="col-lg-3" data-v-bc07aee0><label for="inputStandard" class="col-lg-12 control-label" data-v-bc07aee0><b data-v-bc07aee0>Start Date (From)</b></label><label for="datepicker1" class="field prepend-icon" data-v-bc07aee0><input type="text" id="inpStartDate" name="inpStartDate" class="gui-input" placeholder="Enter Start Date" readonly data-v-bc07aee0><label class="field-icon" data-v-bc07aee0><i class="fa fa-calendar-o" data-v-bc07aee0></i></label></label></div><div class="col-lg-3" data-v-bc07aee0><label for="inputStandard" class="col-lg-12 control-label" data-v-bc07aee0><b data-v-bc07aee0>End Date (To)</b></label><label for="datepicker1" class="field prepend-icon" data-v-bc07aee0><input type="text" id="inpEndDate" name="inpEndDate" class="gui-input" placeholder="Enter End Date" readonly data-v-bc07aee0><label class="field-icon" data-v-bc07aee0><i class="fa fa-calendar-o" data-v-bc07aee0></i></label></label></div></div><button id="btnFilterList" class="button btn-lg btn-system" style="margin:10px;margin-top:16px;" data-v-bc07aee0><i class="fa fa-refresh" data-v-bc07aee0></i>  Filter List </button><button id="btnExportData" class="button btn-lg btn-primary" style="margin:10px;margin-top:16px;" data-v-bc07aee0><i class="fa fa-download" data-v-bc07aee0></i>  Export Data </button><button id="btnPrintList" class="button btn-lg btn-success" style="margin:10px;margin-top:16px;" data-v-bc07aee0><i class="fa fa-file-pdf-o" data-v-bc07aee0></i>  Print List </button></div></div>',1),p={class:"panel panel-colorbox-open panel-dark",id:"spy2"},b=i((function(){return(0,n._)("div",{class:"panel-heading"},[(0,n._)("div",{class:"panel-title hidden-xs"},[(0,n._)("span",{class:"fa fa-list"}),(0,n.Uk)("List of Registrants ")])],-1)})),f={class:"panel-body pn"},u={class:"table table-striped table-hover",id:"tbl_records",cellspacing:"0",width:"100%"},v=i((function(){return(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{"text-align":"center"}},"Reg No."),(0,n._)("th",{style:{"text-align":"center"}},"Date Registered"),(0,n._)("th",{style:{"text-align":"center"}},"Last Name"),(0,n._)("th",{style:{"text-align":"center"}},"First Name"),(0,n._)("th",{style:{"text-align":"center"}},"Department/Agency"),(0,n._)("th",{style:{"text-align":"center"}},"Email"),(0,n._)("th",{style:{"text-align":"center"}},"Contact No."),(0,n._)("th",{style:{"text-align":"center"}},"Type"),(0,n._)("th",{style:{"text-align":"center"}},"ID Code"),(0,n._)("th",{style:{"text-align":"center"}},"Action")])],-1)})),g={style:{"text-align":"center"}},_={style:{"text-align":"center"}},h={style:{"text-align":"left"}},m={style:{"text-align":"left"}},y={style:{"text-align":"left"}},x={style:{"text-align":"left"}},D={style:{"text-align":"center"}},w={style:{"text-align":"center"}},L={style:{"text-align":"center"}},T={style:{"text-align":"center"}},E=["data-id"],Y=i((function(){return(0,n._)("i",{class:"fa fa-arrow-right"},null,-1)}));var R=a(381),S=a.n(R),M=a(860),k=a(475);const C={mixins:[M.Z,k.Z],data:function(){return{aTableConfig:{aaSorting:[[1,"desc"]],aoColumnDefs:[{bSortable:!1,aTargets:[9]}],oLanguage:{oPaginate:{sPrevious:"",sNext:""}},iDisplayLength:10,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"lfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"vendor/plugins/datatables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"}},aRecordList:[],iActiveRecord:0,bUpdateData:!1}},created:function(){document.title="RFM | Manage Registrants"},mounted:function(){this.initPlugins(),this.getRecordList(),this.initEventListeners()},methods:{initPlugins:function(){$("#inpStartDate").datepicker({prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!1,beforeShow:function(t,e){var a=$(this).parents(".admin-form").attr("class");e.dpDiv.parent().hasClass(a)||e.dpDiv.wrap('<div class="'+a+'"></div>')}}),$("#inpEndDate").datepicker({prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>',showButtonPanel:!1,beforeShow:function(t,e){var a=$(this).parents(".admin-form").attr("class");e.dpDiv.parent().hasClass(a)||e.dpDiv.wrap('<div class="'+a+'"></div>')}}),$("#inpStartDate").val(S()().format("MM/DD/YYYY")),$("#inpEndDate").val(S()().format("MM/DD/YYYY"))},initEventListeners:function(){var t=this;document.body.addEventListener("click",(function(e){if(e.preventDefault(),"viewDetails"===e.target.dataset.action){var a=e.target.dataset.id,n=t.aRecordList.filter((function(t){return t.reg_no==a})),i=btoa(JSON.stringify(n));t.$root.setLocalStorageValue("comp",i),window.location.href="/admin/registrant/details"}"btnFilterList"===e.target.id&&t.getRecordList(),"btnPrintList"===e.target.id&&t.printList(),"btnExportData"===e.target.id&&t.createCsv()}),!1)},createCsv:function(){var t=[];t.push(["reg_no","email","first_name","middle_initial","last_name","salutation","department","designation","membership","guest_of","contact_number","file_type","picture","id_code","status","date_created","date_modified"]),this.aRecordList.forEach((function(e){t.push(Object.values(e))}));var e="";t.forEach((function(t){e+=t.join(",")+"\n"}));var a=new Blob([e],{type:"text/csv;charset=utf-8,"}),n=URL.createObjectURL(a),i=document.createElement("a"),l="exported-list-"+S()().format("YYYYMMDDHHMMss")+".csv";i.setAttribute("href",n),i.setAttribute("download",l),i.click()},printList:function(){var t=JSON.stringify(this.aRecordList);this.$root.setLocalStorageValue("forEx",t),window.open("home/print","_blank")},getRecordList:function(){var t=this;setTimeout((function(){t.getRequest("get-reg-list",(function(e){t.aRecordList=e.data,!0===$.fn.dataTable.isDataTable("#tbl_records")&&$("#tbl_records").DataTable().destroy(),setTimeout((function(){t.initTblRecords()}),500)}),{start_date:S()($("#inpStartDate").val()).format("YYYY-MM-DD"),end_date:S()($("#inpEndDate").val()).format("YYYY-MM-DD")})}),500)},initTblRecords:function(){$("#tbl_records").DataTable(this.aTableConfig),$(".dataTables_filter input").attr("placeholder","Enter Terms...")}}};var P=a(3379),z=a.n(P),A=a(68),N={insert:"head",singleton:!1};z()(A.Z,N);A.Z.locals;const F=(0,a(3744).Z)(C,[["render",function(t,e,a,i,R,S){var M=(0,n.up)("C_Layout_Header"),k=(0,n.up)("C_Layout_ADMIN_Sidebar");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(M),(0,n.Wm)(k),(0,n._)("section",l,[s,(0,n._)("div",r,[c,(0,n._)("div",d,[o,(0,n._)("div",p,[b,(0,n._)("div",f,[(0,n._)("table",u,[v,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(R.aRecordList,(function(e){return(0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",g,(0,n.zw)(e.reg_no),1),(0,n._)("td",_,(0,n.zw)(t.nullCheck(e.date_created,"date")),1),(0,n._)("td",h,(0,n.zw)(e.last_name),1),(0,n._)("td",m,(0,n.zw)(e.first_name),1),(0,n._)("td",y,(0,n.zw)(e.department),1),(0,n._)("td",x,(0,n.zw)(e.email),1),(0,n._)("td",D,(0,n.zw)(e.contact_number),1),(0,n._)("td",w,(0,n.zw)(e.guest_of),1),(0,n._)("td",L,(0,n.zw)(e.id_code),1),(0,n._)("td",T,[(0,n._)("button",{type:"button","data-action":"viewDetails","data-id":e.reg_no,class:"btn btn-md btn-primary viewDetails",style:{"margin-right":"9%"}},[Y,(0,n.Uk)(" View Details ")],8,E)])])})),256))])])])])])])])],64)}],["__scopeId","data-v-bc07aee0"]])}}]);